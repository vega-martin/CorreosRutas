{% extends "base.html" %}

{% block content %}

    <h1>Visualizador de puntos de parada</h1>

    <div class="formulario">
        <h2>Elegir fichero A</h2>
        <form method="POST" action="{{ url_for('fileUpload.upload_file_A') }}" enctype="multipart/form-data">
            <input type="file" name="fileA" accept=".csv" required>
            <input type="submit" value="Subir Fichero A">
        </form>
        <br>

        <h2>Elegir fichero B</h2>
        <form method="POST" action="{{ url_for('fileUpload.upload_file_B') }}" enctype="multipart/form-data">
            <input type="file" name="fileB" accept=".csv" required>
            <input type="submit" value="Subir Fichero B">
        </form>
        <br>

        <h2>Elegir fichero C</h2>
        <form method="POST" action="{{ url_for('fileUpload.upload_file_C') }}" enctype="multipart/form-data">
            <input type="file" name="fileC" accept=".csv" required>
            <input type="submit" value="Subir Fichero C">
        </form>
        <br>
    </div>

    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        <ul>
          {% for category, message in messages %}
            <li style="color: {{ 'red' if category == 'error' else 'green' }}">{{ message }}</li>
          {% endfor %}
        </ul>
      {% endif %}
    {% endwith %}

    <h2>Acciones</h2>
    <form action="{{ url_for('generateResults.generar_mapa') }}" method="get">
        <button type="submit">Generar Mapa</button>
    </form>

    <form action="{{ url_for('generateResults.detectar_paradas') }}" method="get">
        <button type="submit">Detectar Paradas</button>
    </form>

    <form action="{{ url_for('generateResults.generar_paradas') }}" method="get">
        <button type="submit">Generar Paradas</button>
    </form>

    <form action="{{ url_for('generateResults.grafica_vel_tiempo') }}" method="get">
        <button type="submit">Gr√°fica Vel/Tiempo</button>
    </form>
    
<!--
    <div class="mapa">
        <h2>Mapa generado</h2>
        <iframe id="mapaRenderizado" src="" width="100%" height="500px" style="border:1px solid #ccc;"></iframe>
        <br>
        <a id="descagarMapa" href="#" target="_blank">Descargar Mapa</a>
    </div>
-->
{% endblock %}